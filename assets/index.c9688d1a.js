var I=Object.defineProperty,D=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var y=(t,n,r)=>n in t?I(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,v=(t,n)=>{for(var r in n||(n={}))M.call(n,r)&&y(t,r,n[r]);if(u)for(var r of u(n))R.call(n,r)&&y(t,r,n[r]);return t},p=(t,n)=>D(t,F(n));var g=(t,n)=>{var r={};for(var s in t)M.call(t,s)&&n.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&u)for(var s of u(t))n.indexOf(s)<0&&R.call(t,s)&&(r[s]=t[s]);return r};import{j as A,R as j,a as B,b as E,r as d,c as P,d as q,e as K,u as Y,B as G,f as H,g as T}from"./vendor.fa62260e.js";const z=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};z();const J="28b070fb920a8ed2cc611bebf038d3fb",U="https://api.themoviedb.org/3",X="en",x="https://image.tmdb.org/t/p/original";var S=async t=>await fetch(`${U}/search/movie?api_key=${J}&language=${X}&query=${t}`).then(n=>n.json());const e=A.exports.jsx,l=A.exports.jsxs,f=a=>{var o=a,{children:t,className:n="",component:r="a"}=o,s=g(o,["children","className","component"]);return e(r,p(v({className:`button ${n}`},s),{children:t}))};const Z=({data:t,indexOf:n,removeFromSlot:r})=>l("div",{className:"movies-sprites",onClick:a=>{r(n)},children:[e("div",{className:"remove-sprite",children:e(j,{})}),e("img",{src:t})]});const Q=({data:t,img_url:n})=>{let r=new Date(t.release_date);return l("div",{className:"raffled-container",children:[e("div",{className:"raffled-sprite",children:e("img",{src:n+t.poster_path})}),l("div",{className:"raffled-info",children:[e("h1",{className:"title",children:t.title}),e("p",{className:"overview",children:t.overview}),l("div",{className:"raffled-details",children:[l("span",{className:"date details",children:[e(B,{className:"ri-line"})," ",r.getFullYear()]}),l("span",{className:"vote details",children:[e(E,{className:"ri-line"})," ",t.vote_average]})]})]})]})};const V=o=>{var c=o,{type:t,className:n,name:r,placeholder:s}=c,a=g(c,["type","className","name","placeholder"]);return e("input",p(v({type:t,name:r,placeholder:s},a),{className:n}))},W=()=>{const[t,n]=d.exports.useState([]),[r,s]=d.exports.useState(""),[a,o]=d.exports.useState([]),[c,k]=d.exports.useState([]),[se,C]=d.exports.useState(),[N,m]=d.exports.useState({type:"",message:""}),$=i=>{const h=document.querySelector(".input-container");/[a-zA-Z0-9]/.test(i.target.value)?(h.classList.remove("error-input"),m({}),(i.key===13||i.key=="Enter")&&b()):(h.classList.add("error-input"),m({type:"error",message:"Just use letters and numbers!"}),s(""))},b=()=>{c.length=0,w()},w=()=>{r.length!=0&&(S(r).then(i=>{t.length<=9?n([...t,i.results[0]]):m({type:"error",message:"You have reached the maximum number of movies in the list. Click on the raffle button."})}),o([...a,r]),s(""))},L=()=>{O()},O=()=>{const i=Math.floor(Math.random()*a.length);S(a[i]).then(h=>{a.length!=0&&a.length>=2?(m({}),t.length=0,k(h.results[0]),a.length=0):m({type:"error",message:"You need to have 2 or more movies."})})},_=i=>{C(t.splice(i,1)),a.splice(i,1)};return l("div",{className:"raffle-content",children:[l("div",{className:"raffle-container",children:[e("h1",{children:"Choose the Movies"}),e("p",{children:"Add movies"}),l("div",{className:"input-container",children:[e(f,{component:"button",className:"add-button",onClick:b,children:e(P,{})}),e(V,{type:"text",name:"search",placeholder:"Ex. Shrek 2",onChange:i=>s(i.target.value),value:r,onKeyDown:$,maxLength:"40",className:"raffle-input"})]}),e("div",{className:N.type==="error"?"notification error":"hidden",children:e("p",{children:N.message})}),e(f,{component:"button",className:"raffle-button",onClick:L,children:"Raffle now"})]}),e("div",{className:"bar"}),c.length!=0?e(Q,{data:c,img_url:x}):t.length!=0?e("div",{className:"movies-container",children:t.map(i=>e(Z,{data:x+(i==null?void 0:i.poster_path),indexOf:t.indexOf(i),removeFromSlot:_}))}):e("p",{children:"Add movies to the list..."})]})};const ee=()=>e("div",{className:"home",children:l("main",{className:"main container",children:[l("div",{className:"home-message",children:[l("h1",{children:["Match",e("span",{children:"FX"})," features",e("span",{children:" Raffle Movies"})]}),l("p",{children:["select up to ",e("span",{children:"10 movies "}),"and draw to find out which one to watch"]})]}),e(W,{})]})}),te=()=>e(q,{children:e(K,{path:"/rafflemovie12/",element:e(ee,{})})});const ne=()=>e("footer",{className:"footer",children:e("p",{children:e("span",{})})});const re=()=>{const t=Y();return e("nav",{className:"nav",children:l("div",{className:"navbar container",children:[e("div",{className:"logo",children:e(f,{component:"button",onClick:()=>t("/rafflemovie12/")})}),e("div",{className:"menu-container",children:e("ul",{className:"menu",children:e("li",{children:e(f,{component:"button",className:"navlink",onClick:()=>t("/rafflemovie12/suggest")})})})})]})})};function ae(){return e("div",{className:"App",children:l(G,{children:[e(re,{}),e(te,{}),e(ne,{})]})})}H.render(e(T.StrictMode,{children:e(ae,{})}),document.getElementById("root"));
